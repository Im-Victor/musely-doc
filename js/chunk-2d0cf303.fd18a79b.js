(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cf303"],{"633c":function(s,t,n){"use strict";n.r(t);var a=function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("section",[n("h2",{attrs:{id:"loading-%E5%8A%A0%E8%BD%BD"}},[s._v("Loading 加载")]),n("p",[s._v("加载数据时显示动效。")]),n("h3",{attrs:{id:"%E6%95%B4%E9%A1%B5%E5%8A%A0%E8%BD%BD"}},[s._v("整页加载")]),n("p",[s._v("页面数据加载时显示。")]),n("code-view",{attrs:{jsfiddle:{html:'<template>\n  <mu-button type="primary" @click="openFullScreen1" v-loading.fullscreen.lock="fullscreenLoading">\n    As a directive\n  </mu-button>\n  <mu-button type="primary" @click="openFullScreen2">\n    As a service\n  </mu-button>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        fullscreenLoading: false\n      }\n    },\n    methods: {\n      openFullScreen1() {\n        this.fullscreenLoading = true\n        setTimeout(() => {\n          this.fullscreenLoading = false\n        }, 2000)\n      },\n      openFullScreen2() {\n        const loading = this.$loading({\n          lock: true,\n          text: \'Loading\',\n          spinner: \'mu-icon-loading\',\n          background: \'rgba(0, 0, 0, 0.7)\'\n        })\n        setTimeout(() => {\n          loading.close()\n        }, 2000)\n      }\n    }\n  }\n<\/script>\n',script:"\n  export default {\n    data() {\n      return {\n        fullscreenLoading: false\n      }\n    },\n    methods: {\n      openFullScreen1() {\n        this.fullscreenLoading = true\n        setTimeout(() => {\n          this.fullscreenLoading = false\n        }, 2000)\n      },\n      openFullScreen2() {\n        const loading = this.$loading({\n          lock: true,\n          text: 'Loading',\n          spinner: 'mu-icon-loading',\n          background: 'rgba(0, 0, 0, 0.7)'\n        })\n        setTimeout(() => {\n          loading.close()\n        }, 2000)\n      }\n    }\n  }\n",style:null}}},[n("template",{slot:"source"},[n("compontent-doc0")],1),n("div",{staticClass:"description",attrs:{slot:"description"},slot:"description"},[n("p",[s._v("当使用指令方式时，全屏遮罩需要添加"),n("code",[s._v("fullscreen")]),s._v("修饰符（遮罩会插入至 body 上），此时若需要锁定屏幕的滚动，可以使用"),n("code",[s._v("lock")]),s._v("修饰符；当使用服务方式时，遮罩默认即为全屏，无需额外设置。")])]),n("div",{attrs:{slot:"highlight"},slot:"highlight"},[n("pre",[n("code",{staticClass:"hljs language-html"},[n("span",{staticClass:"hljs-tag"},[s._v("<"),n("span",{staticClass:"hljs-name"},[s._v("template")]),s._v(">")]),s._v("\n  "),n("span",{staticClass:"hljs-tag"},[s._v("<"),n("span",{staticClass:"hljs-name"},[s._v("mu-button")]),s._v(" "),n("span",{staticClass:"hljs-attr"},[s._v("type")]),s._v("="),n("span",{staticClass:"hljs-string"},[s._v('"primary"')]),s._v(" @"),n("span",{staticClass:"hljs-attr"},[s._v("click")]),s._v("="),n("span",{staticClass:"hljs-string"},[s._v('"openFullScreen1"')]),s._v(" "),n("span",{staticClass:"hljs-attr"},[s._v("v-loading.fullscreen.lock")]),s._v("="),n("span",{staticClass:"hljs-string"},[s._v('"fullscreenLoading"')]),s._v(">")]),s._v("\n    As a directive\n  "),n("span",{staticClass:"hljs-tag"},[s._v("</"),n("span",{staticClass:"hljs-name"},[s._v("mu-button")]),s._v(">")]),s._v("\n  "),n("span",{staticClass:"hljs-tag"},[s._v("<"),n("span",{staticClass:"hljs-name"},[s._v("mu-button")]),s._v(" "),n("span",{staticClass:"hljs-attr"},[s._v("type")]),s._v("="),n("span",{staticClass:"hljs-string"},[s._v('"primary"')]),s._v(" @"),n("span",{staticClass:"hljs-attr"},[s._v("click")]),s._v("="),n("span",{staticClass:"hljs-string"},[s._v('"openFullScreen2"')]),s._v(">")]),s._v("\n    As a service\n  "),n("span",{staticClass:"hljs-tag"},[s._v("</"),n("span",{staticClass:"hljs-name"},[s._v("mu-button")]),s._v(">")]),s._v("\n"),n("span",{staticClass:"hljs-tag"},[s._v("</"),n("span",{staticClass:"hljs-name"},[s._v("template")]),s._v(">")]),s._v("\n\n"),n("span",{staticClass:"hljs-tag"},[s._v("<"),n("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(">")]),n("span",{staticClass:"javascript"},[s._v("\n  "),n("span",{staticClass:"hljs-keyword"},[s._v("export")]),s._v(" "),n("span",{staticClass:"hljs-keyword"},[s._v("default")]),s._v(" {\n    data() {\n      "),n("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" {\n        "),n("span",{staticClass:"hljs-attr"},[s._v("fullscreenLoading")]),s._v(": "),n("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v("\n      }\n    },\n    "),n("span",{staticClass:"hljs-attr"},[s._v("methods")]),s._v(": {\n      openFullScreen1() {\n        "),n("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".fullscreenLoading = "),n("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v("\n        setTimeout("),n("span",{staticClass:"hljs-function"},[n("span",{staticClass:"hljs-params"},[s._v("()")]),s._v(" =>")]),s._v(" {\n          "),n("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".fullscreenLoading = "),n("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v("\n        }, "),n("span",{staticClass:"hljs-number"},[s._v("2000")]),s._v(")\n      },\n      openFullScreen2() {\n        "),n("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" loading = "),n("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".$loading({\n          "),n("span",{staticClass:"hljs-attr"},[s._v("lock")]),s._v(": "),n("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(",\n          "),n("span",{staticClass:"hljs-attr"},[s._v("text")]),s._v(": "),n("span",{staticClass:"hljs-string"},[s._v("'Loading'")]),s._v(",\n          "),n("span",{staticClass:"hljs-attr"},[s._v("spinner")]),s._v(": "),n("span",{staticClass:"hljs-string"},[s._v("'mu-icon-loading'")]),s._v(",\n          "),n("span",{staticClass:"hljs-attr"},[s._v("background")]),s._v(": "),n("span",{staticClass:"hljs-string"},[s._v("'rgba(0, 0, 0, 0.7)'")]),s._v("\n        })\n        setTimeout("),n("span",{staticClass:"hljs-function"},[n("span",{staticClass:"hljs-params"},[s._v("()")]),s._v(" =>")]),s._v(" {\n          loading.close()\n        }, "),n("span",{staticClass:"hljs-number"},[s._v("2000")]),s._v(")\n      }\n    }\n  }\n")]),n("span",{staticClass:"hljs-tag"},[s._v("</"),n("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(">")]),s._v("\n")])])])],2),n("h3",{attrs:{id:"%E6%9C%8D%E5%8A%A1"}},[s._v("服务")]),n("p",[s._v("Loading 还可以以服务的方式调用。引入 Loading 服务：")]),s._m(0),n("p",[s._v("在需要调用时：")]),s._m(1),s._m(2),s._m(3),n("p",[s._v("需要注意的是，以服务的方式调用的全屏 Loading 是单例的：若在前一个全屏 Loading 关闭前再次调用全屏 Loading，并不会创建一个新的 Loading 实例，而是返回现有全屏 Loading 的实例：")]),s._m(4),s._m(5),s._m(6),n("h3",{attrs:{id:"options"}},[s._v("Options")]),s._m(7)],1)},e=[function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("pre",[n("code",{staticClass:"hljs language-javascript"},[n("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" { Loading } "),n("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),n("span",{staticClass:"hljs-string"},[s._v("'musely-ui'")]),s._v("\n")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("pre",[n("code",{staticClass:"hljs language-javascript"},[s._v("Loading.service(options)\n")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("其中 "),n("code",{staticClass:"code_inline"},[s._v("options")]),s._v(" 参数为 Loading 的配置项，具体见下表。"),n("code",{staticClass:"code_inline"},[s._v("LoadingService")]),s._v(" 会返回一个 Loading 实例，可通过调用该实例的 "),n("code",{staticClass:"code_inline"},[s._v("close")]),s._v(" 方法来关闭它：")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("pre",[n("code",{staticClass:"hljs language-javascript"},[n("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" loadingInstance = Loading.service(options)\n"),n("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".$nextTick("),n("span",{staticClass:"hljs-function"},[n("span",{staticClass:"hljs-params"},[s._v("()")]),s._v(" =>")]),s._v(" {\n  "),n("span",{staticClass:"hljs-comment"},[s._v("// 以服务的方式调用的 Loading 需要异步关闭")]),s._v("\n  loadingInstance.close()\n})\n")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("pre",[n("code",{staticClass:"hljs language-javascript"},[n("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" loadingInstance1 = Loading.service({ "),n("span",{staticClass:"hljs-attr"},[s._v("fullscreen")]),s._v(": "),n("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(" })\n"),n("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" loadingInstance2 = Loading.service({ "),n("span",{staticClass:"hljs-attr"},[s._v("fullscreen")]),s._v(": "),n("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(" })\n"),n("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(loadingInstance1 === loadingInstance2) "),n("span",{staticClass:"hljs-comment"},[s._v("// true")]),s._v("\n")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("此时调用它们中任意一个的 "),n("code",{staticClass:"code_inline"},[s._v("close")]),s._v(" 方法都能关闭这个全屏 Loading。")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("如果完整引入了 Musely，那么 Vue.prototype 上会有一个全局方法 "),n("code",{staticClass:"code_inline"},[s._v("$loading")]),s._v("，它的调用方式为："),n("code",{staticClass:"code_inline"},[s._v("this.$loading(options)")]),s._v("，同样会返回一个 Loading 实例。")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[s._v("参数")]),n("th",[s._v("说明")]),n("th",[s._v("类型")]),n("th",[s._v("可选值")]),n("th",[s._v("默认值")])])]),n("tbody",[n("tr",[n("td",[s._v("target")]),n("td",[s._v("Loading 需要覆盖的 DOM 节点。可传入一个 DOM 对象或字符串；若传入字符串，则会将其作为参数传入 "),n("code",{staticClass:"code_inline"},[s._v("document.querySelector")]),s._v("以获取到对应 DOM 节点")]),n("td",[s._v("object/string")]),n("td",[s._v("—")]),n("td",[s._v("document.body")])]),n("tr",[n("td",[s._v("body")]),n("td",[s._v("同 "),n("code",{staticClass:"code_inline"},[s._v("v-loading")]),s._v(" 指令中的 "),n("code",{staticClass:"code_inline"},[s._v("body")]),s._v(" 修饰符")]),n("td",[s._v("boolean")]),n("td",[s._v("—")]),n("td",[s._v("false")])]),n("tr",[n("td",[s._v("fullscreen")]),n("td",[s._v("同 "),n("code",{staticClass:"code_inline"},[s._v("v-loading")]),s._v(" 指令中的 "),n("code",{staticClass:"code_inline"},[s._v("fullscreen")]),s._v(" 修饰符")]),n("td",[s._v("boolean")]),n("td",[s._v("—")]),n("td",[s._v("true")])]),n("tr",[n("td",[s._v("lock")]),n("td",[s._v("同 "),n("code",{staticClass:"code_inline"},[s._v("v-loading")]),s._v(" 指令中的 "),n("code",{staticClass:"code_inline"},[s._v("lock")]),s._v(" 修饰符")]),n("td",[s._v("boolean")]),n("td",[s._v("—")]),n("td",[s._v("false")])]),n("tr",[n("td",[s._v("text")]),n("td",[s._v("显示在加载图标下方的加载文案")]),n("td",[s._v("string")]),n("td",[s._v("—")]),n("td",[s._v("—")])]),n("tr",[n("td",[s._v("spinner")]),n("td",[s._v("自定义加载图标类名")]),n("td",[s._v("string")]),n("td",[s._v("—")]),n("td",[s._v("—")])]),n("tr",[n("td",[s._v("background")]),n("td",[s._v("遮罩背景色")]),n("td",[s._v("string")]),n("td",[s._v("—")]),n("td",[s._v("—")])]),n("tr",[n("td",[s._v("customClass")]),n("td",[s._v("Loading 的自定义类名")]),n("td",[s._v("string")]),n("td",[s._v("—")]),n("td",[s._v("—")])])])])}],l=n("5530"),i={name:"component-doc",components:{"compontent-doc0":function(){var s=function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"template2source"},[[n("mu-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:s.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:s.openFullScreen1}},[s._v("\n    As a directive\n  ")]),s._v(" "),n("mu-button",{attrs:{type:"primary"},on:{click:s.openFullScreen2}},[s._v("\n    As a service\n  ")])]],2)},t=[],n={data:function(){return{fullscreenLoading:!1}},methods:{openFullScreen1:function(){var s=this;this.fullscreenLoading=!0,setTimeout((function(){s.fullscreenLoading=!1}),2e3)},openFullScreen2:function(){var s=this.$loading({lock:!0,text:"Loading",spinner:"mu-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout((function(){s.close()}),2e3)}}};return Object(l["a"])({render:s,staticRenderFns:t},n)}()}},c=i,o=n("2877"),v=Object(o["a"])(c,a,e,!1,null,null,null);t["default"]=v.exports}}]);